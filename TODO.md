## команды для cli
- планирование цели с дедлайном - по факту расчёт параметров нового rtract по сумме и дедлайну
- crud для вносимых вручную данных
    - при внесении цели нужно просчитать транзакцию для неё
    - при внесении rtract нужно пересчитать затронутые отметки баланса и цели

## может быть несколько балансов
если часть денег хранить на вкладе, акциях, валюте.
тогда хотелось бы чтобы было несколько разных балансов.
чтобы при рассчёте достижения целей, балансы складывались (не уверен что это правильно).
чтобы у целей мог быть задан целевой баланс; в качестве примера ситуации пополняемый вклад на ремонт квартиры.
чтобы у транзакций мог быть задан целевой баланс.

## новая структура базы
центральным концептом сделать осуществлённые/планируемые транзакции, нанесённые на таймлайн.
у каждого инстанса транзакции на таймлайне есть стейт - подтверждена/неподтв., требует подтверждения/не треб.
для каждой цели, после вычисления её даты достижения, можно создавать транзакцию в будущем.
при занесении уровня баланса нужно пересчитать даты достижения целей.
при создании rtract нужно пересчитать все недостигнутые цели - рендерить инстансы rtract'а пока цели не будут достигнуты.
при добавлении/изменении цели при необходимости отрендерить rtract'ы и найти дату достижения цели.

## создавать отметку баланса для каждой транзакции
чтобы было по чему рисовать отчёты и графики

## итератор инстансов ртракта
- достать все существующие инстансы из бд начиная с целевой даты
- создать генератор инстансов после даты последнего существующего инстанса

- возвращать существующие инстансы, пока не кончатся
- по окончании существующих, генерить и создавать новые инстансы
	- бтв, если генератор будет реализован как итератор, то дампить сгенерированные инстансы можно пачкой при завершении итератора (по причине yield или если у самого даты кончатся)

## односвязный список для оптимизации сортировки
в момент когда нужно будет выбирать следующую транзакцию (с минимальной датой) можно юзать односвязный список.
при отсортированном списке мне нужно просто взять первый элемент.
для сортировки списка (после того как я использовал первый элемент и его дата обновилась) мне нужно сменить голову списка (либо на второй элемент, либо не менять, если первый элемент снова имеет наименьшую дату) и передвинуть использованный элемент в нужное место

## вся работа по факту сводится к единственному действию:
пересчитать все отметки баланса и транзакции целей начиная с определённой даты.
если транзакции (целей в т.ч.) произведены раньше целевой даты, то пересчитывать их не нужно (в т.ч. и уже "сбывшиеся" цели)

## новые компоненты
- "глобальный" итератор по транзакциям
	- итератор по ртрактам (для каждого rtract)
		- генератор ртрактов
			- дампер сегенрированных ртрактов
	- генератор+дампер отметок баланса